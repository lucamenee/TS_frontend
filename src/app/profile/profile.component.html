<div>

    <div class="profile-header">
        <div class="user-info">
            {{ us.get_name() }} <br>
            <p *ngIf="us.is_passenger()">{{ us.get_surname() }}</p>
            {{ us.get_mail() }} <br>
            {{ us.get_role() }} <br><br>
        </div>
    
        <div [ngClass]="showPasswordUpdater ? 'change-password-outer' : ''">
            <button (click)="togglePasswordChanger()" class="change-password-toggle">
                {{ showPasswordUpdater ? 'Chiudi' : 'Cambia password' }}
            </button>
            <div *ngIf="showPasswordUpdater" class="change-password-inner">
                
                <label for="oldPsw">Password attuale</label>
                <input type="password" id="oldPsw" #oldPsw> 
                <label for="newPsw">Nuova password</label>
                <input type="password" id="newPsw" #newPsw (keyup.enter)="updatePassword(oldPsw.value, newPsw.value)"> 
                <button (click)="updatePassword(oldPsw.value, newPsw.value)">Aggiorna password</button>
                <div *ngIf="updatePswErrorMsg" role="alert">
                    Errore: {{ updatePswErrorMsg }}
                </div>
                
            </div>
        </div>
    </div>

    <div *ngIf="us.is_passenger()">
        
        <h4>I miei biglietti</h4>
        <div class="my-flights">
            <div *ngFor="let flight of mySeats" >
                <div class="flight-head">
                    <div class="flight-head-element">
                        <h3>{{ flight.departure.airportName }}</h3>
                        <i>{{ flight.departureDate | date: 'full':'+0100':'it-IT' }}</i>
                    </div>
                    <div class="flight-head-element">
                        <h3>&rarr;</h3>
                    </div>
                    <div class="flight-head-element">
                        <h3>{{ flight.destination.airportName }}</h3>
                        <i>{{ flight.destinationDate | date: 'full':'+0100':'it-IT' }}</i>
                    </div>

                </div>

                <div class="seats">
                    <div *ngFor="let seat of flight.seats" class="seat">
                        {{ seat.seatNumber }}, {{ seat.seatPrice }} â‚¬
                    </div>
                </div>
                <br>
            </div>
    
    
        </div>

    </div>


</div>